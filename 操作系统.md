# 操作系统常见面试题

## 一、进程&线程&协程

- 进程与线程的区别？

  （1）进程有自己的独立地址空间，线程没有

  （2）进程是资源分配的最小单位，线程是CPU调度的最小单位

  （3）进程上下文切换开销大，线程开销小

## 二、进程间通信的几种方式

- **管道（pipe）及命名管道（named pipe）**：管道可用于具有亲缘关系的父子进程间的通信，有名管道还允许无亲缘关系进程间的通信。
- **信号（singal）**：信号是一种比较复杂的通信方式，用于通知接收进程某个时间已经发生；
- **消息队列**：消息队列时消息的链表，它克服了上述两种通信方式中信号量有限的缺点，具有写权限的进程可以按照一定的规则向消息队列中添加新消息；具有读权限的进程则可以从消息队列中读取消息。
- **共享内存**：最有用的进程间通信方式。它使得多个进程可以访问同一块内存空间，不同进程可以及时看到对方进程对共享内存中数据的更新。这种方式需要依靠某种同步操作，如互斥锁和信号量等。
- **信号量**：主要作为同一进程的线程之间的同步和互斥。
- **套接字**：它可用于网络中不同机器之间的进程间通信，应用非常广泛。

## 三、线程同步的方式

- **互斥量 Synchronized/Lock**：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。
- **信号量 Semaphore**：它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。
- **事件（信号），wait/notify**：通过通知操作的方式来保持线程同步，还可以方便的实现多线程优先级的比较操作。

## 四、分页和分段有什么区别（内存管理）

- 段式存储管理

  段式存储管理是一种符合用户视角的内存分配管理方案。在段式存储管理中，将程序的地址空间划分为若干段（segement），如代码段、数据段、堆栈段；这样没个进程有一个二维地址空间，相互独立、互不干扰。

  段式管理的优点是：没有内碎片（因为段大小可变，改变段大小来消除内碎片）。

- 页式存储管理

  页式存储管理是一种用户视角内存与物理内存相分离的内存分配管理方案。在页式存储管理中，将程序的逻辑地址划分为固定大小的页（page），而物理内存划分为同样大小的帧，程序加载时，可以将任意一页放入内存中的任意一个帧，这些帧不必连续，从而实现了离散分离。

  页式存储管理的优点是：没有外碎片（因为页的大小固定），但会产生内碎片（一个页可能填充不满）。

- 两者的不同点：
  - 目的不同：分页是由于系统管理的需要而不是用户的需要，它是信息的物理单位；分段的目的是为了能更好的满足用户的需要，它是信息的逻辑单位，它含有一组其意义相对完整的信息。
  - 大小不同：页的大小固定且由系统决定，而段的长度不固定，由其所完成的功能决定；
  - 地址空间不同：段向用户提供二维地址空间；页向用户提供一维地址空间。
  - 信息共享：***段是信息的逻辑单位***，便于存储保护和信息共享，页的保护和共享受到限制。
  - 内存碎片：页式存储管理的优点是没有外碎片（因为页的大小固定），但会产生内碎片（一个页可能填充不满）；而段式管理的优点是没有内碎片（因为段大小可变，改变段大小来消除内碎片）。但段换入换出时，会产生外碎片。

- 补充概念：内碎片&外碎片

## 五、操作系统中的进程调度策略

- FCFS（先来先服务，队列实现，非抢占的）
- SJF（最短作业优先调度算法）
- 优先级调度算法（可以使抢占的，也可以是非抢占的）
- 时间片轮转调度算法（可抢占的）
- 多级队列调度算法
- 多级反馈队列调度算法

## 六、虚拟内存

- 虚拟内存

- 页面置换算法

  - FIFO（先进新出算法）
  - LRU（Least recently use）最近最少使用算法
  - LFU（Least frequently use）最小使用次数算法
  - OPT（Optimal replacement）最优置换算法

  