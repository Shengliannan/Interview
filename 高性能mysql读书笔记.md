引擎：

- MyISAM
- InnoDB

优缺点

应用场景



数据库拆分

分库分表

表级拆分：

水平拆分 

垂直拆分

[参考](https://www.cnblogs.com/firstdream/p/6728106.html)



### 隔离级别

### 并发控制

### 锁的概念

并发控制的一种手段

##### 读写锁

- 共享锁（读锁）

  读锁是共享的，或者说是相互不阻塞的。多个客户在同一时刻可以读取同一个资源，而互不干扰。

- 排他锁（写锁）

  写锁则是排他的，也就是说一个写锁会阻塞其他的写锁和读锁，这是出于安全策略的考虑。

##### 锁粒度

一种提高共享资源并发性的方式就是让锁定对象更有选择性。尽量只锁定需要修改的部分数据，而不是所有的资源。更理想的方式是，只对会修改的数据片进行精确度的锁定。任何时候，在给定的资源上，锁定的数量越少，则系统的并发程度越高，只要相互之间不发生冲突即可。

问题是加锁也需要消耗资源。锁的各种操作，包括获得锁、检查锁是否已经解除、释放锁等，都会增加系统的开销。如果系统花费大量的时间来管理锁，而不是存取数据，那么系统的性能可能会因此受到影响。

所谓的锁策略，就是在锁的开销和数据的安全性之间寻求平衡，这种平衡也会影响到性能。大多数商业数据库系统没有提供更多的选择，一般都是在表上施加行级锁。

##### Mysql中的锁策略

- 表锁

- 行级锁（存储引擎层实现）

  Innodb

### 事务

- 原子性
- 一致性
- 隔离性

未提交读

提交读

可重复读

可重复读是MySQL的默认事务隔离级别。

可重复读读隔离级别无法解决幻读问题。所谓幻读，指的是当某个事务在读取某个范围内的记录时，另外一个事务又在该范围内插入了新的记录，当之前的事务在此读取范围的记录是，会产生幻行。

可串行化。



- 持久性

  

原子性的SQL查询。

### 存储引擎

- MyISAM

  支持全文索引、压缩、空间函数，但***不支持事务和行级锁***。

- InnoDB

  InnoDB采用MVCC来支持高并发，并且实现四个标准的隔离级别。其默认级别是可重复读，并且通过***间隙锁***（next-key lockiing）策略防止幻读的出现。间隙锁使得InnoDB不仅仅锁定查询涉及的行，还会对索引中的间隙进行锁定，以防止幻影行的插入。

  InnoDB不支持全文索引。

  除非需要用到某些InnoDB不具备的特性，并且没有其他办法可以代替，否则都应该优先选择InnoDB引擎。

  如果要用到全文索引，建议优先考虑***InnoDB+Sphinx***，而不是MyISAM。

  

### 优化

explain

### 索引

### 常用语句

### 监控&管理工具

### 技术趋势

读写分离

主从架构

### 数据结构

B+树

### SQL语句

1. 转换引擎

   ```sql
   alter table mytable engine= InnoDB
   ```

2. 

